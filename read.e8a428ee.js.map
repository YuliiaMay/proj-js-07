{"mappings":"8oBAAA,IAAAA,EAAAC,EAAA,S,aAGO,MAAMC,EAAgB,YACvBC,EAAUC,SAASC,cAAc,kBAGnCF,GACFA,EAAQG,iBAAiB,SAG3BC,eAA+BC,GAC7B,GAA0B,MAAtBA,EAAEC,OAAOC,SACX,OAMF,MAAMC,GAAmB,EAAAX,EAAAY,yBAAwBV,GAE3CW,EAASL,EAAEC,OAAOK,QAAQ,SAASC,QAAQC,GAE3CC,GAAW,EAAAC,EAAAC,WAGXC,GADO,IAAIC,MACQC,iBAAiBC,MAAM,EAAG,IAE7CC,EAAeP,EAASQ,MAC5B,EAACT,GAAEA,KAASU,OAAOV,KAAQU,OAAOb,KAKpC,GAFAW,EAAkB,IAAIJ,EAGpBT,EAAiBgB,OACfC,GAAgBF,OAAOb,KAAYa,OAAOE,EAAaZ,MAEzD,CACAL,EAAiBkB,KAAKL,IACtB,EAAAxB,EAAA8B,uBAAsB5B,EAAeS,GAEdP,SAASC,cAAc,uBAC/B0B,UAAUC,OAAO,kB","sources":["src/js/storage/add-to-read.js"],"sourcesContent":["import { getDataFromLocalStorage, setDataToLocalStorage } from '../api/service';\nimport { getCard } from '../gallery';\n\nexport const READ_NEWS_KEY = 'read-news';\nconst gallery = document.querySelector('.news__gallery');\n\n// перевірка чи клік у межах галереї статтей\nif (gallery) {\n  gallery.addEventListener('click', onReadMoreClick);\n}\n\nasync function onReadMoreClick(e) {\n  if (e.target.nodeName !== 'A') {\n    return;\n  }\n\n\n\n\n  const uniqReadCardsArr = getDataFromLocalStorage(READ_NEWS_KEY);\n\n  const cardId = e.target.closest('.card').dataset.id;\n\n  const readData = getCard();\n\n  const date = new Date();\n  const currentDate = date.toLocaleString().slice(0, 10);\n\n  const uniqReadCard = readData.find(\n    ({ id }) => String(id) === String(cardId)\n  );\n\n  uniqReadCard['day'] = currentDate;\n\n  if (\n    uniqReadCardsArr.every(\n      uniqReadCard => String(cardId) !== String(uniqReadCard.id)\n    )\n  ) {\n    uniqReadCardsArr.push(uniqReadCard);\n    setDataToLocalStorage(READ_NEWS_KEY, uniqReadCardsArr);\n\n    const tagAlreadyRead = document.querySelector('.read__already-read');\n    tagAlreadyRead.classList.remove('visually-hidden');\n    \n\n  }\n}\n"],"names":["$lO70r","parcelRequire","$8b67851d3391c18a$export$3c2bf4ae9eb63dc1","$8b67851d3391c18a$var$gallery","document","querySelector","addEventListener","async","e","target","nodeName","uniqReadCardsArr","getDataFromLocalStorage","cardId","closest","dataset","id","readData","$aFV0K","getCard","currentDate","Date","toLocaleString","slice","uniqReadCard1","find","String","every","uniqReadCard","push","setDataToLocalStorage","classList","remove"],"version":3,"file":"read.e8a428ee.js.map"}