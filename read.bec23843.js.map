{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,wLCAzD,I,EAAAC,EAAAJ,EAAA,S,0BCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDK5F,MAAMC,EAAQ,IAAAN,IAAAD,GACRQ,EAAeC,SAASC,cAAc,mBACtCC,EAAiBF,SAASC,cAAc,8BAG9C,IAAIE,EAAQ,GACRC,EAAoB,GACpBC,EAAU,GACVC,EAAc,GACdC,EAAoB,IAQxB,WACE,IACEA,GAAoB,EAAAjB,EAAAkB,yBAAwBC,EAAAC,eAEX,IAA7BH,EAAkBzB,SACpBoB,EAAeS,UAAUC,IAAI,aAC7Bb,EAAaY,UAAUE,OAAO,aA4ClCd,EAAae,mBAAmB,aAnClC,WACEP,EAAkBQ,KAAIC,IACpB,MAAMC,EAASD,EAAKE,IACpBf,EAAMgB,KAAKF,EAAO,IAIpBb,EAAoBgB,MAAMC,KAAK,IAAIC,IAAInB,IAEvC,MACMoB,EADenB,EAAkBoB,QAAOC,QAAiBC,IAATD,IACrBE,MAAK,CAACC,EAAGC,IAAMA,EAAEC,cAAcF,KAEhE,IAAK,IAAI/C,EAAI,EAAGA,EAAI0C,EAAYzC,OAAQD,GAAK,EAAG,CAC9CyB,EAAcC,EAAkBiB,QAAOR,GAAQA,EAAKE,MAAQK,EAAY1C,KAExE,MAAMkD,EAAezB,EAAYS,KAAIC,IAAQ,EAAAgB,EAAAC,WAAUjB,KACjDkB,GAAa,EAAAF,EAAAG,WAAUJ,EAAchC,GAAc,GAAOqC,KAAK,IAErE/B,GACI,4GAEYkB,EAAY1C,gFAELiB,wHAGboC,uC,CAKZ,OAAO7B,C,CAIwCgC,IAKjD,WAQE,SAASC,EAAcC,GACTA,EAAEC,OACV7B,UAAU8B,OAAO,U,CATFzC,SAAS0C,iBAAiB,sBAGlCC,SAAQC,GACnBA,EAAIC,iBAAiB,QAASP,I,CApD5BQ,G,CAEF,MAAOC,GACPC,QAAQC,IAAIF,EAAMG,Q,EAftBC,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-477868b570974479.js","src/js/render/render-read.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jewIc\\\":\\\"read.bec23843.js\\\",\\\"8OQ7p\\\":\\\"icons.906ae435.svg\\\",\\\"hmz2r\\\":\\\"read.74cd0f2b.js\\\",\\\"fcKtx\\\":\\\"read.e8a428ee.js\\\"}\"));","import { getDataFromLocalStorage } from '../api/service';\nimport { fetchNews, createObj } from '../gallery'\nimport { READ_NEWS_KEY } from '../storage/add-to-read';\n\n\nconst iconPath = new URL('/src/images/icons.svg', import.meta.url);\nconst accContainer = document.querySelector('.acc__container');\nconst emptyContainer = document.querySelector('.empty-response__container');\n\n\nlet dates = [];\nlet uniqAccordionDays = [];\nlet readAcc = '';\nlet readCardArr = [];\nlet savedReadsCardArr = [];\n\n\n// ------------\nswitchReadMarkup();\n// ------------\n\n\nfunction switchReadMarkup() {\n  try {\n    savedReadsCardArr = getDataFromLocalStorage(READ_NEWS_KEY);\n    \n    if (savedReadsCardArr.length !== 0) {\n      emptyContainer.classList.add('is-hidden');\n      accContainer.classList.remove('is-hidden');\n      renderReadNewsPage();\n      addReadPageEvents();\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction getReadMarkup() {\n  savedReadsCardArr.map(card => {\n    const newDay = card.day;\n    dates.push(newDay);\n  })\n  \n  // масив дат для контейнерів аккардеону\n  uniqAccordionDays = Array.from(new Set(dates));\n\n  const filteredDate = uniqAccordionDays.filter(date => date !== undefined);\n  const sortedDates = filteredDate.sort((a, b) => b.localeCompare(a));\n\n  for (let i = 0; i < sortedDates.length; i += 1) {\n    readCardArr = savedReadsCardArr.filter(card => card.day === sortedDates[i]);\n\n    const readCardsDay = readCardArr.map(card => createObj(card));\n    const readMarkup = fetchNews(readCardsDay, accContainer, false).join('');\n\n    readAcc +=\n        `<div class=\"acc__gallery\">\n          <button class=\"acc__day-btn js-read-card-open\">\n            <span>${sortedDates[i]}</span>\n            <svg class=\"acc__btn-icon\">\n              <use href=\"${iconPath}#pointer-down\"></use></svg>\n          </button>\n          <div class=\"news__one-day-read-card-list\">\n            ${readMarkup}\n          </div>\n          </div>`;\n  }  \n  \n  return readAcc;\n}\n\nfunction renderReadNewsPage() {\n  accContainer.insertAdjacentHTML('afterbegin',  getReadMarkup())\n}\n\n\n\nfunction addReadPageEvents() {\n  const btnsReadMore = document.querySelectorAll('.js-read-card-open');\n  // const btnToFavorite = document.querySelectorAll('');\n\n  btnsReadMore.forEach(btn =>\n    btn.addEventListener('click', onDayNewsOpen)\n  );\n\n  function onDayNewsOpen(e) {\n    const btn = e.target;\n    btn.classList.toggle('is-open');\n  }\n\n  // btnToFavorite.addEventListener('click', );\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$lO70r","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$2d27262ea0e7656c$var$iconPath","$2d27262ea0e7656c$var$accContainer","document","querySelector","$2d27262ea0e7656c$var$emptyContainer","$2d27262ea0e7656c$var$dates","$2d27262ea0e7656c$var$uniqAccordionDays","$2d27262ea0e7656c$var$readAcc","$2d27262ea0e7656c$var$readCardArr","$2d27262ea0e7656c$var$savedReadsCardArr","getDataFromLocalStorage","$bY2RE","READ_NEWS_KEY","classList","add","remove","insertAdjacentHTML","map","card","newDay","day","push","Array","from","Set","sortedDates","filter","date","undefined","sort","a","b","localeCompare","readCardsDay","$aFV0K","createObj","readMarkup","fetchNews","join","$2d27262ea0e7656c$var$getReadMarkup","onDayNewsOpen","e","target","toggle","querySelectorAll","forEach","btn","addEventListener","$2d27262ea0e7656c$var$addReadPageEvents","error","console","log","message","$2d27262ea0e7656c$var$switchReadMarkup"],"version":3,"file":"read.bec23843.js.map"}