{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-5bfb0bc6dd50dd23.js","src/js/render/render-read.js","node_modules/@parcel/runtime-js/lib/runtime-5ee86210b8dec3a6.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"03q4W\\\":\\\"read.5d275cd5.js\\\",\\\"410VS\\\":\\\"icons.906ae435.svg\\\",\\\"aRedu\\\":\\\"read.d7172b3e.js\\\",\\\"ep4Vl\\\":\\\"read.822ff496.js\\\"}\"));","let savedReadsCardArr = [];\n\nimport { getDataFromLocalStorage } from '../api/service';\n// import { onReadMoreClick } from '../storage/add-to-read';\nimport { READ_NEWS_KEY } from '../storage/add-to-read';\n// import { fetchNews } from '../gallery';\n// import { Loading } from 'notiflix';\n\n\n\nconst iconPath = new URL('/src/images/icons.svg', import.meta.url);\nconst accContainer = document.querySelector('.acc__container');\nconst emptyContainer = document.querySelector('.empty-response__container');\nconst accGallery = document.querySelector('.acc__gallery');\nconst dayContainer = document.querySelector('.acc__day-block');\n\n\n\nlet dates = [];\nlet uniqAccordionDays = [];\n\n\nlet sameDayRead = [];\n\nlet readMarkupCard = '';\n\nswitchReadMarkup();\n\n\n\ncreateAcc(uniqAccordionDays, readMarkupCard);\ngetReadCard(savedReadsCardArr);\n\n\n\n\n\n\nfunction switchReadMarkup() {\n  try {\n    savedReadsCardArr = getDataFromLocalStorage(READ_NEWS_KEY);\n    \n    if (savedReadsCardArr.length !== 0) {\n      emptyContainer.classList.add('is-hidden');\n      accContainer.classList.remove('is-hidden');\n      getUniqueDaysOfReading(savedReadsCardArr);\n\n      setReadCardsByDate(savedReadsCardArr, uniqAccordionDays);\n      // createAcc(uniqAccordionDays);\n\n\n      // getReadCard(savedReadsCardArr);\n      // createAccordions(uniqAccordionDays);\n      // createAccordionMarkup(uniqAccordionDays, savedReadsCardArr);\n\t\t\t// fetchNews(savedReadsCardArr);\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n\nfunction getUniqueDaysOfReading(savedReadsCardArr) {\n  savedReadsCardArr.map(card => {\n    const newDay = card.day;\n    dates.push(newDay);\n  })\n  \n  // масив дат для контейнерів аккардеону\n  uniqAccordionDays = Array.from(new Set(dates));\n  // console.log(uniqAccordionDays);\n  return uniqAccordionDays;\n}\n\n\n\nfunction setReadCardsByDate(savedReadsCardArr, uniqAccordionDays) {\n  for (const card of savedReadsCardArr) {\n    console.log(card.day);\n    for (const day of uniqAccordionDays) {\n      \n      sameDayRead.push(card);\n    }\n  }\n}\n\n\nfunction createAcc(savedReadsCardArr) {\n\n  for (const day of savedReadsCardArr) {\n  const accMarckup = savedReadsCardArr\n        .map(el => {\n          return `<div class=\"acc-item\">\n                    <button class=\"acc__date-btn\">08.03.2023</button>\n                  </div>`\n        })\n        .join('');\n      \n    accContainer.insertAdjacentHTML('afterbegin', accMarckup);\n    return accMarckup;\n    }\n      \n  }\n\n\n\n\nfunction getReadCard(savedReadsCardArr) {\n  // for (const day of uniqAccordionDays) {\n  //   console.log(day);\n\n  readMarkupCard = savedReadsCardArr\n    .map(({ media, source, title, abstract, published_date, url, section, id }) => {\n      let src = media.map(media => media['media-metadata'][2].url);\n        \n      return `<div class=\"card acc__card\" data-id=\"${id}\">\n                <div class=\"wrap__img\">\n                  <img class=\"card__img is-reading\" src=\"${media}\" alt=\"${source}\" />\n                  <button type=\"button\" class=\"item-news__add-to-favorite>\n                  <span class=\"item-news__add-to-favorite-btn\">\n                    Add to favorite\n                      <svg class=\"item-news__block-icon active-news-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 37 32\">\n                              <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                      </svg>\n                      </span>\n                              <span class=\"item-news__remove-to-favorite-btn\">Remove from favorite\n                      <svg class=\"item-news__block-icon active-news-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 37 32\">\n                              <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                      </svg></span>\n                  </button>\n                </div>\n                <div class=\"news__card\">\n                <div class=\"news__card--info\">\n                <h2 class=\"card__title\">${title.substr(0, 55)}</h2>\n                <p class=\"card__description\">${abstract.substr(0, 100) + '...'\n        }</p>\n                </div>\n                <div class=\"card__footer\">\n                  <span class=\"card__date\">${published_date}</span>\n                  <a class=\"card__ref\" target=\"_blank\"\n                  rel=\"noreferrer noopener\">Read more</a>\n                </div>\n                </div>\n                <div class=\"categories\">${section}</div>\n\n                <div class=\"read visually-hidden\">\n                  <span class=\"read__main\">Already read</span>\n                  <svg class=\"read__main-icon\">\n                      <use class=\"icon\" href=\"${iconPath}#done\"\"></use>\n                  </svg>\n                </div>                \n              </div>`\n      })\n          .join('');\n\n\n      accGallery.insertAdjacentHTML('beforeend', readMarkupCard)\n      return readMarkupCard;\n  // }\n    \n  }\n\n\n\n\n\n  // -------------- events\n\naccContainer.addEventListener('click', activeAccGallery);\n\nfunction activeAccGallery(e) {\n  const accBtn = e.target;\n\n  \n  accBtn.classList.toggle('active');\n  accGallery.classList.toggle('active');\n  \n  \n\n}","module.exports = require('./helpers/bundle-url').getBundleURL('03q4W') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$1m3k3","$258721dc5036f2b9$var$savedReadsCardArr","$04002da0eb0ba7cf$exports","getBundleURL","resolve","$258721dc5036f2b9$var$iconPath","URL","$258721dc5036f2b9$var$accContainer","document","querySelector","$258721dc5036f2b9$var$emptyContainer","$258721dc5036f2b9$var$accGallery","$258721dc5036f2b9$var$dates","$258721dc5036f2b9$var$uniqAccordionDays","$258721dc5036f2b9$var$sameDayRead","$258721dc5036f2b9$var$readMarkupCard","getDataFromLocalStorage","$9UMhL","READ_NEWS_KEY","classList","add","remove","map","card","newDay","day","push","Array","from","Set","savedReadsCardArr2","uniqAccordionDays1","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","console","log","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","return","$258721dc5036f2b9$var$setReadCardsByDate","error","message","$258721dc5036f2b9$var$switchReadMarkup","savedReadsCardArr3","accMarckup","el","join","insertAdjacentHTML","$258721dc5036f2b9$var$createAcc","param","media1","media","source","title","abstract","published_date","section","concat","substr","addEventListener","e","target","toggle"],"version":3,"file":"read.5d275cd5.js.map"}