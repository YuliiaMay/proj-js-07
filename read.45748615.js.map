{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,wLCAzD,IAAAC,EAAAJ,EAAA,S,aAAA,IAAIK,EAAoB,G,MCAxBC,EAAiB,IAAAC,IAAoBP,EAAA,SAAAQ,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDU5F,MAAMC,EAAQ,IAAAN,IAAAD,GACRQ,EAAeC,SAASC,cAAc,mBACtCC,EAAiBF,SAASC,cAAc,8BACxCE,EAAaH,SAASC,cAAc,iBAE1C,IAAIG,EAAQ,GACRC,EAAoB,GAGpBC,EAAc,GAEdC,EAAiB,IAcrB,WACE,IACEjB,GAAoB,EAAAD,EAAAmB,yBAAwBC,EAAAC,eAEX,IAA7BpB,EAAkBT,SACpBqB,EAAeS,UAAUC,IAAI,aAC7Bb,EAAaY,UAAUE,OAAO,aACPvB,EAkBTwB,KAAIC,IACpB,MAAMC,EAASD,EAAKE,IACpBb,EAAMc,KAAKF,EAAO,IAIpBX,EAAoBc,MAAMC,KAAK,IAAIC,IAAIjB,IACvCkB,QAAQC,IAAIlB,GAMd,SAA4BmB,EAAmBC,GAC7C,IAAK,MAAMV,KAAQS,EAAmB,CACpCF,QAAQC,IAAIR,EAAKE,KACjB,IAAK,MAAMA,KAAOQ,EAEhBnB,EAAYY,KAAKH,E,EAlCjBW,CAAmBpC,EAAmBe,G,CASxC,MAAOsB,GACPL,QAAQC,IAAII,EAAMC,Q,EA/BtBC,GA6DA,SAAmBC,GAEjB,IAAK,MAAMb,KAAOa,EAAmB,CACrC,MAAMC,EAAaD,EACZhB,KAAIkB,GACI,sHAIRC,KAAK,IAGV,OADAlC,EAAamC,mBAAmB,aAAcH,GACvCA,C,EArEXI,CAAU9B,GAiFRE,EAhFUjB,EAiFPwB,KAAI,EAAGsB,MAAAC,EAAKC,OAAEA,EAAMC,MAAEA,EAAKC,SAAEA,EAAQC,eAAEA,EAAc7C,IAAEA,EAAG8C,QAAEA,EAAO5D,GAAEA,MACpE,IAAI6D,EAAMN,EAAMvB,KAAIsB,GAASA,EAAM,kBAAkB,GAAGxC,MAGxD,OAFA0B,QAAQC,IAAIoB,GAEL,8BAA8B7D,0GAEgBuD,WAAeC,2pDAgBhCC,EAAMK,OAAO,EAAG,0DACXJ,EAASI,OAAO,EAAG,KAAO,6HAI5BH,wNAKHC,iOAKM5C,yGAG3B,IAEVmC,KAAK,IAGV9B,EAAW+B,mBAAmB,cAAe3B,G","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-477868b570974479.js","src/js/render/render-read.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jewIc\\\":\\\"read.45748615.js\\\",\\\"8OQ7p\\\":\\\"icons.906ae435.svg\\\",\\\"hmz2r\\\":\\\"read.9866b5b5.js\\\",\\\"fcKtx\\\":\\\"read.92014899.js\\\"}\"));","let savedReadsCardArr = [];\n\nimport { getDataFromLocalStorage } from '../api/service';\n// import { onReadMoreClick } from '../storage/add-to-read';\nimport { READ_NEWS_KEY } from '../storage/add-to-read';\n// import { fetchNews } from '../gallery';\n// import { Loading } from 'notiflix';\n\n\n\nconst iconPath = new URL('/src/images/icons.svg', import.meta.url);\nconst accContainer = document.querySelector('.acc__container');\nconst emptyContainer = document.querySelector('.empty-response__container');\nconst accGallery = document.querySelector('.acc__gallery');\n\nlet dates = [];\nlet uniqAccordionDays = [];\n\n\nlet sameDayRead = [];\n\nlet readMarkupCard = '';\n\nswitchReadMarkup();\n\n\n\ncreateAcc(uniqAccordionDays, readMarkupCard);\ngetReadCard(savedReadsCardArr);\n\n\n\n\n\n\nfunction switchReadMarkup() {\n  try {\n    savedReadsCardArr = getDataFromLocalStorage(READ_NEWS_KEY);\n    \n    if (savedReadsCardArr.length !== 0) {\n      emptyContainer.classList.add('is-hidden');\n      accContainer.classList.remove('is-hidden');\n      getUniqueDaysOfReading(savedReadsCardArr);\n\n      setReadCardsByDate(savedReadsCardArr, uniqAccordionDays);\n      // createAcc(uniqAccordionDays);\n\n\n      // getReadCard(savedReadsCardArr);\n      // createAccordions(uniqAccordionDays);\n      // createAccordionMarkup(uniqAccordionDays, savedReadsCardArr);\n\t\t\t// fetchNews(savedReadsCardArr);\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n\nfunction getUniqueDaysOfReading(savedReadsCardArr) {\n  savedReadsCardArr.map(card => {\n    const newDay = card.day;\n    dates.push(newDay);\n  })\n  \n  // масив дат для контейнерів аккардеону\n  uniqAccordionDays = Array.from(new Set(dates));\n  console.log(uniqAccordionDays);\n  return uniqAccordionDays;\n}\n\n\n\nfunction setReadCardsByDate(savedReadsCardArr, uniqAccordionDays) {\n  for (const card of savedReadsCardArr) {\n    console.log(card.day);\n    for (const day of uniqAccordionDays) {\n      \n      sameDayRead.push(card);\n    }\n  }\n}\n\n\nfunction createAcc(savedReadsCardArr) {\n\n  for (const day of savedReadsCardArr) {\n  const accMarckup = savedReadsCardArr\n        .map(el => {\n          return `<div class=\"acc-item\">\n                    <div class=\"acc__date-btn\">08.03.2023</div>\n                  </div>`\n        })\n        .join('');\n      \n    accContainer.insertAdjacentHTML('afterbegin', accMarckup);\n    return accMarckup;\n    }\n      \n  }\n\n\n\n\nfunction getReadCard(savedReadsCardArr) {\n  // for (const day of uniqAccordionDays) {\n  //   console.log(day);\n\n  readMarkupCard = savedReadsCardArr\n    .map(({ media, source, title, abstract, published_date, url, section, id }) => {\n      let src = media.map(media => media['media-metadata'][2].url);\n      console.log(src);\n        \n      return `<div class=\"card\" data-id=\"${id}\">\n                <div class=\"wrap__img\">\n                  <img class=\"card__img is-reading\" src=\"${media}\" alt=\"${source}\" />\n                  <button type=\"button\" class=\"item-news__add-to-favorite>\n                  <span class=\"item-news__add-to-favorite-btn\">\n                    Add to favorite\n                      <svg class=\"item-news__block-icon active-news-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 37 32\">\n                              <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                      </svg>\n                      </span>\n                              <span class=\"item-news__remove-to-favorite-btn\">Remove from favorite\n                      <svg class=\"item-news__block-icon active-news-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 37 32\">\n                              <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                      </svg></span>\n                  </button>\n                </div>\n                <div class=\"news__card\">\n                <div class=\"news__card--info\">\n                <h2 class=\"card__title\">${title.substr(0, 55)}</h2>\n                <p class=\"card__description\">${abstract.substr(0, 100) + '...'\n        }</p>\n                </div>\n                <div class=\"card__footer\">\n                  <span class=\"card__date\">${published_date}</span>\n                  <a class=\"card__ref\" target=\"_blank\"\n                  rel=\"noreferrer noopener\">Read more</a>\n                </div>\n                </div>\n                <div class=\"categories\">${section}</div>\n\n                <div class=\"read visually-hidden\">\n                  <span class=\"read__main\">Already read</span>\n                  <svg class=\"read__main-icon\">\n                      <use class=\"icon\" href=\"${iconPath}#done\"\"></use>\n                  </svg>\n                </div>                \n              </div>`\n      })\n          .join('');\n\n\n      accGallery.insertAdjacentHTML('beforebegin', readMarkupCard)\n      return readMarkupCard;\n  // }\n    \n  }\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$lO70r","$2d27262ea0e7656c$var$savedReadsCardArr","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$2d27262ea0e7656c$var$iconPath","$2d27262ea0e7656c$var$accContainer","document","querySelector","$2d27262ea0e7656c$var$emptyContainer","$2d27262ea0e7656c$var$accGallery","$2d27262ea0e7656c$var$dates","$2d27262ea0e7656c$var$uniqAccordionDays","$2d27262ea0e7656c$var$sameDayRead","$2d27262ea0e7656c$var$readMarkupCard","getDataFromLocalStorage","$bY2RE","READ_NEWS_KEY","classList","add","remove","map","card","newDay","day","push","Array","from","Set","console","log","savedReadsCardArr2","uniqAccordionDays1","$2d27262ea0e7656c$var$setReadCardsByDate","error","message","$2d27262ea0e7656c$var$switchReadMarkup","savedReadsCardArr3","accMarckup","el","join","insertAdjacentHTML","$2d27262ea0e7656c$var$createAcc","media","media1","source","title","abstract","published_date","section","src","substr"],"version":3,"file":"read.45748615.js.map"}