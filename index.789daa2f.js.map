{"mappings":"gtBAAA,IAAAA,EAAAC,EAAA,S,uCAKMC,EAAYC,SAASC,cAAc,kB,SAInBC,EAAmBC,G,OAAnBC,EAAkBC,MAAAC,KAAAC,U,UAAlBH,I,OAAAA,EAAfI,EAAAX,EAAA,CAAAW,EAAAC,GAAAC,MAAA,SAAAC,EAAkCR,G,IAE/BS,EAKAC,EACAC,EAIAC,EAEAC,EAUEC,EAEAC,E,8EAxBFN,EAAMT,EAAEgB,OAAOC,QAAQ,+BACrB,C,gDAERR,EAAIS,UAAUC,OAAO,eAEfT,EAASD,EAAIQ,QAAQ,SAASG,QAAQC,GACtCV,GAAY,EAAAW,EAAAC,yBAAwB,QAIpCX,GAAe,EAAAY,EAAAC,WAEfZ,EAAUD,EAAac,MAC3B,SAAAC,G,IAAGN,EAAEM,EAAFN,G,OAASO,OAAOP,KAAQO,OAAOlB,E,IAGhCC,EAAUkB,OAAM,SAAAC,G,OAAQF,OAAOlB,KAAYkB,OAAOE,EAAKT,G,MACzDV,EAAUoB,KAAKlB,IACf,EAAAS,EAAAU,uBAAsB,OAAQrB,IAG3BF,EAAIS,UAAUe,SAAS,iBACpBnB,EAAUH,EAAUe,MAAK,SAAAC,G,IAAGN,EAAEM,EAAFN,G,OAASO,OAAOP,KAAQO,OAAOlB,E,IAE3DK,EAAcmB,OAAOvB,EAAUwB,QAAQrB,IAE7CH,EAAUyB,OAAOrB,EAAa,IAC9B,EAAAO,EAAAU,uBAAsB,OAAQrB,I,kDAKhC0B,QAAQC,IAAIC,EAAAC,GAAMC,S,0DAlCAxC,EAAkBC,MAAAC,KAAAC,U,CAFpCR,GAAWA,EAAU8C,iBAAiB,QAAS3C,E","sources":["src/js/storage/add-to-favorite.js"],"sourcesContent":["import { getDataFromLocalStorage, setDataToLocalStorage } from '../api/service';\nimport { getCard } from '../gallery';\n\n// ===========================================//\n\nconst galleryEl = document.querySelector('.news__gallery');\n\nif (galleryEl) galleryEl.addEventListener('click', onBtnFavoriteClick);\n\nexport async function onBtnFavoriteClick(e) {\n  try {\n    const btn = e.target.closest('.item-news__add-to-favorite');\n    if (!btn) return;\n\n    btn.classList.toggle('hidden-span');\n\n    const idCard = btn.closest('.card').dataset.id;\n    const newsArray = getDataFromLocalStorage('news');\n\n    //!===============================\n\n    const dataFavorite = getCard();\n\n    const oneCard = dataFavorite.find(\n      ({ id }) => String(id) === String(idCard)\n    );\n\n    if (newsArray.every(card => String(idCard) !== String(card.id))) {\n      newsArray.push(oneCard);\n      setDataToLocalStorage('news', newsArray);\n    }\n\n    if (!btn.classList.contains('hidden-span')) {\n      const element = newsArray.find(({ id }) => String(id) === String(idCard));\n\n      const indexForDel = Number(newsArray.indexOf(element));\n\n      newsArray.splice(indexForDel, 1);\n      setDataToLocalStorage('news', newsArray);\n    }\n\n    //!===============================\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$48703bb0de78984b$var$galleryEl","document","querySelector","$48703bb0de78984b$export$e725018d8d426bf0","e","$48703bb0de78984b$var$_onBtnFavoriteClick","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","btn","idCard","newsArray","dataFavorite","oneCard","element","indexForDel","target","closest","classList","toggle","dataset","id","$1m3k3","getDataFromLocalStorage","$8S4BJ","getCard","find","param","String","every","card","push","setDataToLocalStorage","contains","Number","indexOf","splice","console","log","_ctx","t0","message","addEventListener"],"version":3,"file":"index.789daa2f.js.map"}