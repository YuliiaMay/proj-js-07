{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,oDAKMC,EAAeC,SAASC,cAAc,wBACtCC,EAAWF,SAASC,cAAc,U,SAUzBE,I,OAAAC,EAAIC,MAAAC,KAAAC,U,UAAJH,I,OAAAA,EAAfI,EAAAX,EAAA,CAAAW,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUC,EASAC,E,4FATa,EAAAC,EAAAC,yBAAwB,Q,WAArCH,EAAII,EAAAC,MAEAC,OAAM,C,sBACdhB,EAASiB,UAAUC,OAAO,aAC1BrB,EAAaoB,UAAUE,IAAI,a,iCAG7BnB,EAASiB,UAAUE,IAAI,aACvBtB,EAAaoB,UAAUC,OAAO,a,UACZR,EAAKU,KAAI,SAAAC,G,OAAW,EAAAC,EAAAC,WAAUF,E,YAA1CV,EAAGG,EAAAC,KAEOjB,SAAS0B,iBAAiB,SAClCC,SAAQ,SAAAC,G,OAAKA,EAAER,Q,KAEvB,EAAAI,EAAAK,WAAUhB,EAAKd,G,kDAEf+B,QAAQC,IAAIf,EAAAgB,GAAMC,S,2DAlBH5B,MAAAC,KAAAC,U,CARnBR,EAAamC,iBAAiB,QAASC,EAAAC,oBACvCrC,EAAamC,iBAAiB,SAAS,SAAAN,GACrC,IAAMS,EAAMT,EAAEU,OAAOC,QAAQ,+BACxBF,IACLA,EAAIE,QAAQ,SAASnB,SACrBjB,I,IAyBFA,I","sources":["src/js/render/render-favorite.js"],"sourcesContent":["import { getDataFromLocalStorage } from '../api/service';\nimport { onBtnFavoriteClick } from '../storage/add-to-favorite';\n\nimport { createObj, fetchNews } from '../gallery';\n\nconst containerRef = document.querySelector('.favorite__container');\nconst errorRef = document.querySelector('.error');\n\ncontainerRef.addEventListener('click', onBtnFavoriteClick);\ncontainerRef.addEventListener('click', e => {\n  const btn = e.target.closest('.item-news__add-to-favorite');\n  if (!btn) return;\n  btn.closest('.card').remove();\n  init();\n});\n\nasync function init() {\n  try {\n    const data = await getDataFromLocalStorage('news');\n\n    if (!data.length) {\n      errorRef.classList.remove('is-hidden');\n      containerRef.classList.add('is-hidden');\n      return;\n    }\n    errorRef.classList.add('is-hidden');\n    containerRef.classList.remove('is-hidden');\n    const arr = await data.map(article => createObj(article));\n\n    const refCard = document.querySelectorAll('.card');\n    refCard.forEach(e => e.remove());\n\n    fetchNews(arr, containerRef);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\ninit();\n"],"names":["$bpxeT","parcelRequire","$21564587257f8188$var$containerRef","document","querySelector","$21564587257f8188$var$errorRef","$21564587257f8188$var$init","$21564587257f8188$var$_init","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","arr","$1m3k3","getDataFromLocalStorage","_ctx","sent","length","classList","remove","add","map","article","$8S4BJ","createObj","querySelectorAll","forEach","e","fetchNews","console","log","t0","message","addEventListener","$6dAs7","onBtnFavoriteClick","btn","target","closest"],"version":3,"file":"favorite.9ed474a6.js.map"}