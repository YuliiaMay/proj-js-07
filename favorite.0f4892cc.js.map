{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAKA,MAAMC,EAAeC,SAASC,cAAc,wBACtCC,EAAWF,SAASC,cAAc,UAUxCE,eAAeC,IACb,IACE,MAAMC,QAAa,EAAAR,EAAAS,yBAAwB,QAE3C,IAAKD,EAAKE,OAGR,OAFAL,EAASM,UAAUC,OAAO,kBAC1BV,EAAaS,UAAUE,IAAI,aAG7BR,EAASM,UAAUE,IAAI,aACvBX,EAAaS,UAAUC,OAAO,aAC9B,MAAME,QAAYN,EAAKO,KAAIC,IAAW,EAAAC,EAAAC,WAAUF,KAEhCb,SAASgB,iBAAiB,SAClCC,SAAQC,GAAKA,EAAET,YAEvB,EAAAK,EAAAK,WAAUR,EAAKZ,E,CACf,MAAOqB,GACPC,QAAQC,IAAIF,EAAMG,Q,EA1BtBxB,EAAayB,iBAAiB,QAASC,EAAAC,oBACvC3B,EAAayB,iBAAiB,SAASN,IACrC,MAAMS,EAAMT,EAAEU,OAAOC,QAAQ,+BACxBF,IACLA,EAAIE,QAAQ,SAASpB,SACrBL,IAAM,IAyBRA,I","sources":["src/js/render/render-favorite.js"],"sourcesContent":["import { getDataFromLocalStorage } from '../api/service';\nimport { onBtnFavoriteClick } from '../storage/add-to-favorite';\n\nimport { createObj, fetchNews } from '../gallery';\n\nconst containerRef = document.querySelector('.favorite__container');\nconst errorRef = document.querySelector('.error');\n\ncontainerRef.addEventListener('click', onBtnFavoriteClick);\ncontainerRef.addEventListener('click', e => {\n  const btn = e.target.closest('.item-news__add-to-favorite');\n  if (!btn) return;\n  btn.closest('.card').remove();\n  init();\n});\n\nasync function init() {\n  try {\n    const data = await getDataFromLocalStorage('news');\n\n    if (!data.length) {\n      errorRef.classList.remove('is-hidden');\n      containerRef.classList.add('is-hidden');\n      return;\n    }\n    errorRef.classList.add('is-hidden');\n    containerRef.classList.remove('is-hidden');\n    const arr = await data.map(article => createObj(article));\n\n    const refCard = document.querySelectorAll('.card');\n    refCard.forEach(e => e.remove());\n\n    fetchNews(arr, containerRef);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\ninit();\n"],"names":["$lO70r","parcelRequire","$fe29bab80ac16553$var$containerRef","document","querySelector","$fe29bab80ac16553$var$errorRef","async","$fe29bab80ac16553$var$init","data","getDataFromLocalStorage","length","classList","remove","add","arr","map","article","$aFV0K","createObj","querySelectorAll","forEach","e","fetchNews","error","console","log","message","addEventListener","$dVhPh","onBtnFavoriteClick","btn","target","closest"],"version":3,"file":"favorite.0f4892cc.js.map"}